<!DOCTYPE html>
<html lang="en">

<head>
	<title>three.js webgl - cloth simulation</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<style>
		body {
			font-family: Monospace;
			background-color: #000;
			color: #000;
			margin: 0px;
			overflow: hidden;
		}

		#info {
			position: absolute;
			padding: 10px;
			width: 100%;
			text-align: center;
		}

		a {
			text-decoration: underline;
			cursor: pointer;
		}
	</style>
</head>

<body>
	<div id="container"></div>

	<script src="../build/three.js"></script>

	<script>

		var container, stats;

		var camera, scene, renderer;

		var mesh;


		init();
		animate();
		function init() {
			container = document.getElementById('container');
			camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 1, 3500);
			camera.position.z = 4;

			scene = new THREE.Scene();

			scene.add(new THREE.AmbientLight(0x444444));

			var geometry = new THREE.BufferGeometry();
			// create a simple square shape. We duplicate the top left and bottom right
			// vertices because each vertex needs to appear once per triangle.
			var vertices = new Float32Array([
				-1.0, -1.0, 1.0,
				1.0, -1.0, 1.0,
				1.0, 1.0, 1.0,

				1.0, 1.0, 1.0,
				-1.0, 1.0, 1.0,
				-1.0, -1.0, 1.0
			]);
			// itemSize = 3 because there are 3 values (components) per vertex
			geometry.addAttribute('position', new THREE.BufferAttribute(vertices, 3));
			var material = new THREE.MeshBasicMaterial({ color: 0xff0000 });
			mesh = new THREE.Mesh(geometry, material);
			scene.add(mesh);

			renderer = new THREE.WebGLRenderer({ antialias: false });
			renderer.setClearColor( THREE.ColorKeywords.aliceblue );
			renderer.setPixelRatio(window.devicePixelRatio);
			renderer.setSize(window.innerWidth, window.innerHeight);
			container.appendChild(renderer.domElement);


			window.addEventListener('resize', onWindowResize, false);
		}

		function onWindowResize() {

			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();

			renderer.setSize(window.innerWidth, window.innerHeight);

		}

		function animate() {

			//requestAnimationFrame(animate);

			render();

		}

		function render() {

			var time = Date.now() * 0.001;

			mesh.rotation.x = time * 0.25;
			mesh.rotation.y = time * 0.5;
			mesh.scale.x = 3;
			mesh.scale.z = 3;
			mesh.scale.y = 3;
			renderer.render(scene, camera);

		}


	</script>

</body>

</html>